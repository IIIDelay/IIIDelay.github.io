<!DOCTYPE html>
<html lang="en-US" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://mister-hope.github.io/distributed/cache/redis.html"><meta property="og:site_name" content="IIIDelay的 Blog"><meta property="og:title" content="Redis面试题"><meta property="og:description" content="Redis面试题 redis常见面试题：吃透这份Redis学习笔记，直接把阿里面试官按在地上摩擦！ 1. 什么是redis？ Redis (Remote Dictionary Server)就是一个使用 C 语言开发的数据库，与传统数据库不同的是 Redis 的数据是存在内存中的 ，也就是它是内存数据库，所以读写速度非常快，因此 Redis 被广泛应用于缓存方向。"><meta property="og:type" content="article"><meta property="og:image" content="https://mister-hope.github.io/"><meta property="og:locale" content="en-US"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="Redis面试题"><meta property="article:author" content="Mr.Hope"><meta property="article:tag" content="yellow"><meta property="article:tag" content="curly"><meta property="article:tag" content="long"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Redis面试题","image":["https://mister-hope.github.io/"],"dateModified":null,"author":[{"@type":"Person","name":"Mr.Hope","url":"https://mrhope.site"}]}</script><title>Redis面试题 | IIIDelay的 Blog</title><meta name="description" content="Redis面试题 redis常见面试题：吃透这份Redis学习笔记，直接把阿里面试官按在地上摩擦！ 1. 什么是redis？ Redis (Remote Dictionary Server)就是一个使用 C 语言开发的数据库，与传统数据库不同的是 Redis 的数据是存在内存中的 ，也就是它是内存数据库，所以读写速度非常快，因此 Redis 被广泛应用于缓存方向。">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style-060c090c.css" as="style"><link rel="stylesheet" href="/assets/style-060c090c.css">
    <link rel="modulepreload" href="/assets/app-4d79e191.js"><link rel="modulepreload" href="/assets/framework-b5ea9e64.js"><link rel="modulepreload" href="/assets/redis.html-6633c1bc.js"><link rel="modulepreload" href="/assets/redis.html-e9bc23b3.js"><link rel="prefetch" href="/assets/intro.html-9071b728.js" as="script"><link rel="prefetch" href="/assets/index.html-ff74bbd1.js" as="script"><link rel="prefetch" href="/assets/slides.html-451f3049.js" as="script"><link rel="prefetch" href="/assets/disable.html-ae4cc985.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-67c224b5.js" as="script"><link rel="prefetch" href="/assets/markdown.html-da1ed47f.js" as="script"><link rel="prefetch" href="/assets/page.html-2e943c5f.js" as="script"><link rel="prefetch" href="/assets/index.html-b6097988.js" as="script"><link rel="prefetch" href="/assets/cherry.html-d36a8b99.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-6945ed1f.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-40edf027.js" as="script"><link rel="prefetch" href="/assets/tomato.html-d2ef19c0.js" as="script"><link rel="prefetch" href="/assets/intro.html-94782db6.js" as="script"><link rel="prefetch" href="/assets/index.html-a6903669.js" as="script"><link rel="prefetch" href="/assets/slides.html-be41cf0d.js" as="script"><link rel="prefetch" href="/assets/elaticsearch.html-0815fba8.js" as="script"><link rel="prefetch" href="/assets/nginx.html-12f4c408.js" as="script"><link rel="prefetch" href="/assets/rocketmq.html-e6e19251.js" as="script"><link rel="prefetch" href="/assets/2.html-1fec4f6c.js" as="script"><link rel="prefetch" href="/assets/list.html-db497ebf.js" as="script"><link rel="prefetch" href="/assets/map.html-ca4cb16f.js" as="script"><link rel="prefetch" href="/assets/set.html-6ba620ac.js" as="script"><link rel="prefetch" href="/assets/1.html-69466ed3.js" as="script"><link rel="prefetch" href="/assets/2.html-a9c3714b.js" as="script"><link rel="prefetch" href="/assets/3.html-0a46d6ab.js" as="script"><link rel="prefetch" href="/assets/4.html-6e55b383.js" as="script"><link rel="prefetch" href="/assets/disable.html-fdde9f0a.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-1258ccb5.js" as="script"><link rel="prefetch" href="/assets/markdown.html-822b1ee6.js" as="script"><link rel="prefetch" href="/assets/page.html-be43cde9.js" as="script"><link rel="prefetch" href="/assets/index.html-2d4ad7f9.js" as="script"><link rel="prefetch" href="/assets/disable.html-1ed39fea.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-85f4ad65.js" as="script"><link rel="prefetch" href="/assets/markdown.html-8496d656.js" as="script"><link rel="prefetch" href="/assets/page.html-b9dd0370.js" as="script"><link rel="prefetch" href="/assets/index.html-9485d548.js" as="script"><link rel="prefetch" href="/assets/index.html-8ac2f94f.js" as="script"><link rel="prefetch" href="/assets/cherry.html-36984a56.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-f8423d33.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-7922afa8.js" as="script"><link rel="prefetch" href="/assets/tomato.html-082b1fc2.js" as="script"><link rel="prefetch" href="/assets/1.html-e7a26cb6.js" as="script"><link rel="prefetch" href="/assets/2.html-e160c07e.js" as="script"><link rel="prefetch" href="/assets/3.html-7f2561e2.js" as="script"><link rel="prefetch" href="/assets/4.html-6623d070.js" as="script"><link rel="prefetch" href="/assets/1.html-d13a5067.js" as="script"><link rel="prefetch" href="/assets/2.html-0c958b7f.js" as="script"><link rel="prefetch" href="/assets/3.html-dd40d723.js" as="script"><link rel="prefetch" href="/assets/4.html-9b87c41a.js" as="script"><link rel="prefetch" href="/assets/404.html-7dd32ad8.js" as="script"><link rel="prefetch" href="/assets/index.html-20d0ef65.js" as="script"><link rel="prefetch" href="/assets/index.html-b22b29a1.js" as="script"><link rel="prefetch" href="/assets/index.html-c865c1c3.js" as="script"><link rel="prefetch" href="/assets/index.html-7f24edee.js" as="script"><link rel="prefetch" href="/assets/index.html-38594f9c.js" as="script"><link rel="prefetch" href="/assets/index.html-76ac3955.js" as="script"><link rel="prefetch" href="/assets/index.html-a6ed19c1.js" as="script"><link rel="prefetch" href="/assets/index.html-7c7b9fd1.js" as="script"><link rel="prefetch" href="/assets/index.html-c35e4409.js" as="script"><link rel="prefetch" href="/assets/index.html-8c6bb855.js" as="script"><link rel="prefetch" href="/assets/index.html-37d3e8d6.js" as="script"><link rel="prefetch" href="/assets/index.html-73f11639.js" as="script"><link rel="prefetch" href="/assets/index.html-6c885995.js" as="script"><link rel="prefetch" href="/assets/index.html-5237e2ec.js" as="script"><link rel="prefetch" href="/assets/index.html-83505af6.js" as="script"><link rel="prefetch" href="/assets/index.html-b5321990.js" as="script"><link rel="prefetch" href="/assets/index.html-4c72008e.js" as="script"><link rel="prefetch" href="/assets/index.html-10a317bf.js" as="script"><link rel="prefetch" href="/assets/index.html-797c4891.js" as="script"><link rel="prefetch" href="/assets/index.html-096004a5.js" as="script"><link rel="prefetch" href="/assets/index.html-a1602019.js" as="script"><link rel="prefetch" href="/assets/index.html-0d91ef9a.js" as="script"><link rel="prefetch" href="/assets/index.html-355310a8.js" as="script"><link rel="prefetch" href="/assets/index.html-c48f0ba8.js" as="script"><link rel="prefetch" href="/assets/index.html-27aecac1.js" as="script"><link rel="prefetch" href="/assets/index.html-52a1666e.js" as="script"><link rel="prefetch" href="/assets/index.html-6d16c1fa.js" as="script"><link rel="prefetch" href="/assets/index.html-1d148755.js" as="script"><link rel="prefetch" href="/assets/index.html-3e9f5b1d.js" as="script"><link rel="prefetch" href="/assets/index.html-56cd3190.js" as="script"><link rel="prefetch" href="/assets/index.html-11849890.js" as="script"><link rel="prefetch" href="/assets/index.html-1fc3533f.js" as="script"><link rel="prefetch" href="/assets/index.html-52cbb73d.js" as="script"><link rel="prefetch" href="/assets/index.html-bced3c3c.js" as="script"><link rel="prefetch" href="/assets/index.html-98881649.js" as="script"><link rel="prefetch" href="/assets/index.html-a61a97ff.js" as="script"><link rel="prefetch" href="/assets/index.html-100c09d2.js" as="script"><link rel="prefetch" href="/assets/index.html-17f09209.js" as="script"><link rel="prefetch" href="/assets/index.html-0ba4ebed.js" as="script"><link rel="prefetch" href="/assets/index.html-fcad6326.js" as="script"><link rel="prefetch" href="/assets/index.html-7966baf6.js" as="script"><link rel="prefetch" href="/assets/index.html-4c7dc9df.js" as="script"><link rel="prefetch" href="/assets/index.html-5aef05a0.js" as="script"><link rel="prefetch" href="/assets/index.html-393c772d.js" as="script"><link rel="prefetch" href="/assets/index.html-5eb4beeb.js" as="script"><link rel="prefetch" href="/assets/index.html-c75b8c65.js" as="script"><link rel="prefetch" href="/assets/index.html-3100e85d.js" as="script"><link rel="prefetch" href="/assets/index.html-6ae7cf02.js" as="script"><link rel="prefetch" href="/assets/index.html-3e24243a.js" as="script"><link rel="prefetch" href="/assets/index.html-807e36ad.js" as="script"><link rel="prefetch" href="/assets/index.html-d1b0b763.js" as="script"><link rel="prefetch" href="/assets/index.html-5cd6fb66.js" as="script"><link rel="prefetch" href="/assets/index.html-b96c2c20.js" as="script"><link rel="prefetch" href="/assets/index.html-118ef1b9.js" as="script"><link rel="prefetch" href="/assets/index.html-21e05bc6.js" as="script"><link rel="prefetch" href="/assets/index.html-1388bbc7.js" as="script"><link rel="prefetch" href="/assets/index.html-9986b6e2.js" as="script"><link rel="prefetch" href="/assets/index.html-1be28a53.js" as="script"><link rel="prefetch" href="/assets/index.html-e839dd2a.js" as="script"><link rel="prefetch" href="/assets/index.html-2329d0c2.js" as="script"><link rel="prefetch" href="/assets/index.html-00097ecf.js" as="script"><link rel="prefetch" href="/assets/index.html-f81419d8.js" as="script"><link rel="prefetch" href="/assets/index.html-56f2e11d.js" as="script"><link rel="prefetch" href="/assets/intro.html-88bbbba3.js" as="script"><link rel="prefetch" href="/assets/index.html-f6fd53c8.js" as="script"><link rel="prefetch" href="/assets/slides.html-7d6ea186.js" as="script"><link rel="prefetch" href="/assets/disable.html-66a5c74b.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-3033137a.js" as="script"><link rel="prefetch" href="/assets/markdown.html-c0aa2bc6.js" as="script"><link rel="prefetch" href="/assets/page.html-8678032e.js" as="script"><link rel="prefetch" href="/assets/index.html-3499a5f6.js" as="script"><link rel="prefetch" href="/assets/cherry.html-98af2790.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-de03847a.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-faa223b5.js" as="script"><link rel="prefetch" href="/assets/tomato.html-a39ec598.js" as="script"><link rel="prefetch" href="/assets/intro.html-7ea086e0.js" as="script"><link rel="prefetch" href="/assets/index.html-aaf735c7.js" as="script"><link rel="prefetch" href="/assets/slides.html-21eee2e5.js" as="script"><link rel="prefetch" href="/assets/elaticsearch.html-67956eb2.js" as="script"><link rel="prefetch" href="/assets/nginx.html-96968426.js" as="script"><link rel="prefetch" href="/assets/rocketmq.html-09fae1c3.js" as="script"><link rel="prefetch" href="/assets/2.html-a7ea5b97.js" as="script"><link rel="prefetch" href="/assets/list.html-ae9043b4.js" as="script"><link rel="prefetch" href="/assets/map.html-573233b4.js" as="script"><link rel="prefetch" href="/assets/set.html-92d35319.js" as="script"><link rel="prefetch" href="/assets/1.html-78afde73.js" as="script"><link rel="prefetch" href="/assets/2.html-93cb91ac.js" as="script"><link rel="prefetch" href="/assets/3.html-56df1478.js" as="script"><link rel="prefetch" href="/assets/4.html-a2722075.js" as="script"><link rel="prefetch" href="/assets/disable.html-2277927a.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-0f82cb4a.js" as="script"><link rel="prefetch" href="/assets/markdown.html-c6b97ccf.js" as="script"><link rel="prefetch" href="/assets/page.html-8e83bdc7.js" as="script"><link rel="prefetch" href="/assets/index.html-b594eaa5.js" as="script"><link rel="prefetch" href="/assets/disable.html-5dcf458d.js" as="script"><link rel="prefetch" href="/assets/encrypt.html-1aabfd29.js" as="script"><link rel="prefetch" href="/assets/markdown.html-eab61d76.js" as="script"><link rel="prefetch" href="/assets/page.html-1004e52f.js" as="script"><link rel="prefetch" href="/assets/index.html-b3c715af.js" as="script"><link rel="prefetch" href="/assets/index.html-5551fcaa.js" as="script"><link rel="prefetch" href="/assets/cherry.html-d1c99f03.js" as="script"><link rel="prefetch" href="/assets/dragonfruit.html-bef098d6.js" as="script"><link rel="prefetch" href="/assets/strawberry.html-ce8462f7.js" as="script"><link rel="prefetch" href="/assets/tomato.html-2de426e8.js" as="script"><link rel="prefetch" href="/assets/1.html-e71a5b3f.js" as="script"><link rel="prefetch" href="/assets/2.html-b8021f67.js" as="script"><link rel="prefetch" href="/assets/3.html-eb8a5929.js" as="script"><link rel="prefetch" href="/assets/4.html-575b843b.js" as="script"><link rel="prefetch" href="/assets/1.html-4080e315.js" as="script"><link rel="prefetch" href="/assets/2.html-225b9967.js" as="script"><link rel="prefetch" href="/assets/3.html-aad5fe1a.js" as="script"><link rel="prefetch" href="/assets/4.html-b4e5c171.js" as="script"><link rel="prefetch" href="/assets/404.html-efcbdfb8.js" as="script"><link rel="prefetch" href="/assets/index.html-d7c67c90.js" as="script"><link rel="prefetch" href="/assets/index.html-58b4f273.js" as="script"><link rel="prefetch" href="/assets/index.html-5ec2fddd.js" as="script"><link rel="prefetch" href="/assets/index.html-7b822086.js" as="script"><link rel="prefetch" href="/assets/index.html-4d0f7e32.js" as="script"><link rel="prefetch" href="/assets/index.html-17eeb5a1.js" as="script"><link rel="prefetch" href="/assets/index.html-91822548.js" as="script"><link rel="prefetch" href="/assets/index.html-11b87b78.js" as="script"><link rel="prefetch" href="/assets/index.html-ebf9fe5f.js" as="script"><link rel="prefetch" href="/assets/index.html-4f9a4b5f.js" as="script"><link rel="prefetch" href="/assets/index.html-990bfc25.js" as="script"><link rel="prefetch" href="/assets/index.html-980af55e.js" as="script"><link rel="prefetch" href="/assets/index.html-f52000ab.js" as="script"><link rel="prefetch" href="/assets/index.html-48db118f.js" as="script"><link rel="prefetch" href="/assets/index.html-e82c4191.js" as="script"><link rel="prefetch" href="/assets/index.html-7c752282.js" as="script"><link rel="prefetch" href="/assets/index.html-8128a73c.js" as="script"><link rel="prefetch" href="/assets/index.html-e3aa9d99.js" as="script"><link rel="prefetch" href="/assets/index.html-28bf1937.js" as="script"><link rel="prefetch" href="/assets/index.html-1ee7a748.js" as="script"><link rel="prefetch" href="/assets/index.html-5d3e9263.js" as="script"><link rel="prefetch" href="/assets/index.html-b7547097.js" as="script"><link rel="prefetch" href="/assets/index.html-6ee8b06d.js" as="script"><link rel="prefetch" href="/assets/index.html-da90ef68.js" as="script"><link rel="prefetch" href="/assets/index.html-69f2b437.js" as="script"><link rel="prefetch" href="/assets/index.html-b2a58a8d.js" as="script"><link rel="prefetch" href="/assets/index.html-c20b48b5.js" as="script"><link rel="prefetch" href="/assets/index.html-025251c7.js" as="script"><link rel="prefetch" href="/assets/index.html-64389379.js" as="script"><link rel="prefetch" href="/assets/index.html-ff2ab13e.js" as="script"><link rel="prefetch" href="/assets/index.html-2ad7ffac.js" as="script"><link rel="prefetch" href="/assets/index.html-cd3cd59c.js" as="script"><link rel="prefetch" href="/assets/index.html-dbf81064.js" as="script"><link rel="prefetch" href="/assets/index.html-85615883.js" as="script"><link rel="prefetch" href="/assets/index.html-74822ef3.js" as="script"><link rel="prefetch" href="/assets/index.html-fba460db.js" as="script"><link rel="prefetch" href="/assets/index.html-8c0771f4.js" as="script"><link rel="prefetch" href="/assets/index.html-a36273be.js" as="script"><link rel="prefetch" href="/assets/index.html-7a0739b7.js" as="script"><link rel="prefetch" href="/assets/index.html-fec46570.js" as="script"><link rel="prefetch" href="/assets/index.html-f69eb88c.js" as="script"><link rel="prefetch" href="/assets/index.html-87fc4efd.js" as="script"><link rel="prefetch" href="/assets/index.html-b93c98f4.js" as="script"><link rel="prefetch" href="/assets/index.html-51ef4f9f.js" as="script"><link rel="prefetch" href="/assets/index.html-9a262995.js" as="script"><link rel="prefetch" href="/assets/index.html-177d03c9.js" as="script"><link rel="prefetch" href="/assets/index.html-7a26a869.js" as="script"><link rel="prefetch" href="/assets/index.html-409f1932.js" as="script"><link rel="prefetch" href="/assets/index.html-8e0d7594.js" as="script"><link rel="prefetch" href="/assets/index.html-065ae608.js" as="script"><link rel="prefetch" href="/assets/index.html-6ff47688.js" as="script"><link rel="prefetch" href="/assets/index.html-9de5fbad.js" as="script"><link rel="prefetch" href="/assets/index.html-890a76e8.js" as="script"><link rel="prefetch" href="/assets/index.html-9f82e955.js" as="script"><link rel="prefetch" href="/assets/index.html-d80f1d2d.js" as="script"><link rel="prefetch" href="/assets/index.html-616a6c28.js" as="script"><link rel="prefetch" href="/assets/index.html-ca4faf6e.js" as="script"><link rel="prefetch" href="/assets/index.html-a3cf3b28.js" as="script"><link rel="prefetch" href="/assets/index.html-89bfd3d4.js" as="script"><link rel="prefetch" href="/assets/index.html-2cfeeffe.js" as="script"><link rel="prefetch" href="/assets/index.html-edee18a6.js" as="script"><link rel="prefetch" href="/assets/index.html-144bdc4f.js" as="script"><link rel="prefetch" href="/assets/index.html-c8e4cb15.js" as="script"><link rel="prefetch" href="/assets/giscus-16d370b8.js" as="script"><link rel="prefetch" href="/assets/auto-ba5ecab5.js" as="script"><link rel="prefetch" href="/assets/index-8764208e.js" as="script"><link rel="prefetch" href="/assets/flowchart-35969cab.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-6620b256.js" as="script"><link rel="prefetch" href="/assets/highlight.esm-a794bb63.js" as="script"><link rel="prefetch" href="/assets/markdown.esm-d92a2fc9.js" as="script"><link rel="prefetch" href="/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/assets/notes.esm-224f94d9.js" as="script"><link rel="prefetch" href="/assets/reveal.esm-e5069ce0.js" as="script"><link rel="prefetch" href="/assets/search.esm-2c3fba7d.js" as="script"><link rel="prefetch" href="/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/assets/VuePlayground-ae6add9b.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-6e6cbe40.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to main content</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="IIIDelay的 Blog"><!----><span class="site-name hide-in-pad">IIIDelay的 Blog</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="Blog Home"><span class="font-icon icon iconfont icon-home" style=""></span>Blog Home<!----></a></div><div class="nav-item hide-in-mobile"><a href="/demo/" class="nav-link" aria-label="Demo"><span class="font-icon icon iconfont icon-discover" style=""></span>Demo<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="JavaEE"><span class="title"><span class="font-icon icon iconfont icon-edit" style=""></span>JavaEE</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>集合</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaee/apple/list.html" class="nav-link" aria-label="List"><span class="font-icon icon iconfont icon-edit" style=""></span>List<!----></a></li><li class="dropdown-subitem"><a href="/javaee/apple/set.html" class="nav-link" aria-label="Set"><span class="font-icon icon iconfont icon-edit" style=""></span>Set<!----></a></li><li class="dropdown-subitem"><a href="/javaee/apple/map.html" class="nav-link" aria-label="Map"><span class="font-icon icon iconfont icon-edit" style=""></span>Map<!----></a></li><li class="dropdown-subitem"><a href="/javaee/apple/3" class="nav-link" aria-label="/javaee/apple/3"><!---->/javaee/apple/3<!----></a></li><li class="dropdown-subitem"><a href="/javaee/apple/4" class="nav-link" aria-label="/javaee/apple/4"><!---->/javaee/apple/4<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Banana</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/javaee/banana/1.html" class="nav-link" aria-label="Banana 1"><span class="font-icon icon iconfont icon-edit" style=""></span>Banana 1<!----></a></li><li class="dropdown-subitem"><a href="/javaee/banana/2.html" class="nav-link" aria-label="Banana 2"><span class="font-icon icon iconfont icon-edit" style=""></span>Banana 2<!----></a></li><li class="dropdown-subitem"><a href="/javaee/banana/3.html" class="nav-link" aria-label="Banana 3"><span class="font-icon icon iconfont icon-edit" style=""></span>Banana 3<!----></a></li><li class="dropdown-subitem"><a href="/javaee/banana/4.html" class="nav-link" aria-label="Banana 4"><span class="font-icon icon iconfont icon-edit" style=""></span>Banana 4<!----></a></li></ul></li><li class="dropdown-item"><a href="/javaee/cherry.html" class="nav-link" aria-label="Cherry"><span class="font-icon icon iconfont icon-edit" style=""></span>Cherry<!----></a></li><li class="dropdown-item"><a href="/javaee/dragonfruit.html" class="nav-link" aria-label="Dragon Fruit"><span class="font-icon icon iconfont icon-edit" style=""></span>Dragon Fruit<!----></a></li><li class="dropdown-item"><a href="/javaee/tomato.html" class="nav-link" aria-label="Tomato"><span class="font-icon icon iconfont icon-edit" style=""></span>Tomato<!----></a></li><li class="dropdown-item"><a href="/javaee/strawberry.html" class="nav-link" aria-label="Strawberry"><span class="font-icon icon iconfont icon-edit" style=""></span>Strawberry<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="分布式"><span class="title"><span class="font-icon icon iconfont icon-edit" style=""></span>分布式</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Cache</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-current="page" href="/distributed/cache/redis.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Redis"><span class="font-icon icon iconfont icon-edit" style=""></span>Redis<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Load-Balance</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/loadbalance/nginx.html" class="nav-link" aria-label="Nginx"><span class="font-icon icon iconfont icon-edit" style=""></span>Nginx<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>MQS</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/mqs/rocketmq.html" class="nav-link" aria-label="RocketMQ"><span class="font-icon icon iconfont icon-edit" style=""></span>RocketMQ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://theme-hope.vuejs.press/" rel="noopener noreferrer" target="_blank" aria-label="V2 Docs" class="nav-link"><span class="font-icon icon iconfont icon-note" style=""></span>V2 Docs<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><div class="nav-item"><div class="dropdown-wrapper i18n-dropdown"><button class="dropdown-title" type="button" aria-label="Select language"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-current="page" href="/distributed/cache/redis.html" class="router-link-active router-link-exact-active nav-link active" aria-label="English"><!---->English<!----></a></li><li class="dropdown-item"><a href="/zh/" class="nav-link" aria-label="简体中文"><!---->简体中文<!----></a></li></ul></button></div></div><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="Blog Home"><span class="font-icon icon iconfont icon-home" style=""></span>Blog Home<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><p class="sidebar-heading clickable"><span class="font-icon icon iconfont icon-discover" style=""></span><a href="/demo/" class="title">Demo</a><!----></p><ul class="sidebar-links"><li><!--[--><a href="/demo/page.html" class="nav-link sidebar-link sidebar-page" aria-label="Page Config"><span class="font-icon icon iconfont icon-page" style=""></span>Page Config<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/demo/markdown.html" class="nav-link sidebar-link sidebar-page" aria-label="Markdown Enhance"><span class="font-icon icon iconfont icon-markdown" style=""></span>Markdown Enhance<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/demo/disable.html" class="nav-link sidebar-link sidebar-page" aria-label="Disabling layout and features"><span class="font-icon icon iconfont icon-config" style=""></span>Disabling layout and features<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/demo/encrypt.html" class="nav-link sidebar-link sidebar-page" aria-label="Encryption Article"><span class="font-icon icon iconfont icon-lock" style=""></span>Encryption Article<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><p class="sidebar-heading"><span class="font-icon icon iconfont icon-note" style=""></span><span class="title">Articles</span><!----></p><ul class="sidebar-links"></ul></section></li><li><!--[--><a href="/intro.html" class="nav-link sidebar-link sidebar-page" aria-label="Intro Page"><span class="font-icon icon iconfont icon-info" style=""></span>Intro Page<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/slides.html" class="nav-link sidebar-link sidebar-page" aria-label="Slide page"><span class="font-icon icon iconfont icon-slides" style=""></span>Slide page<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="font-icon icon iconfont icon-edit" style=""></span>Redis面试题</h1><div class="page-info"><span class="page-author-info" aria-label="Author🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://mrhope.site" target="_blank" rel="noopener noreferrer">Mr.Hope</a></span><span property="author" content="Mr.Hope"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="Reading Time⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>About 9 min</span><meta property="timeRequired" content="PT9M"></span><span class="page-category-info" aria-label="Category🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category5 clickable" role="navigation">Cache</span><span class="page-category-item category7 clickable" role="navigation">NoSQL</span><meta property="articleSection" content="Cache,NoSQL"></span><span class="page-tag-info" aria-label="Tag🏷" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag8 clickable" role="navigation">yellow</span><span class="page-tag-item tag8 clickable" role="navigation">curly</span><span class="page-tag-item tag4 clickable" role="navigation">long</span><meta property="keywords" content="yellow,curly,long"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">On This Page<button class="print-button" title="Print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#_1-什么是redis" class="router-link-active router-link-exact-active toc-link level2">1. 什么是redis？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#_2-分布式缓存常见的技术选型" class="router-link-active router-link-exact-active toc-link level2">2. 分布式缓存常见的技术选型</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#_2-1-缓存类型" class="router-link-active router-link-exact-active toc-link level3">2.1 缓存类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#_2-1-redis-和-memcached-的区别和共同点" class="router-link-active router-link-exact-active toc-link level3">2.1 Redis 和 Memcached 的区别和共同点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#_3-redis有哪些优缺点" class="router-link-active router-link-exact-active toc-link level2">3. Redis有哪些优缺点？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#_4-为什么要用-redis-为什么要用缓存" class="router-link-active router-link-exact-active toc-link level2">4. 为什么要用 Redis /为什么要用缓存？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#_5-如何保障mysql和redis之间的数据一致性" class="router-link-active router-link-exact-active toc-link level2">5. 如何保障mysql和redis之间的数据一致性？</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#方案一-延时双删" class="router-link-active router-link-exact-active toc-link level3">方案一：延时双删</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#方案二-异步更新缓存-基于订阅binlog的同步机制" class="router-link-active router-link-exact-active toc-link level3">方案二：异步更新缓存(基于订阅binlog的同步机制)</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#_6-redis有哪些数据类型及使用场景" class="router-link-active router-link-exact-active toc-link level2">6.Redis有哪些数据类型及使用场景</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#string" class="router-link-active router-link-exact-active toc-link level3">String</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#list" class="router-link-active router-link-exact-active toc-link level3">List</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/distributed/cache/redis.html#" class="router-link-active router-link-exact-active toc-link level3"></a></li><!----><!--]--></ul><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="redis面试题" tabindex="-1"><a class="header-anchor" href="#redis面试题" aria-hidden="true">#</a> Redis面试题</h1><p>redis常见面试题：<a href="https://zhuanlan.zhihu.com/p/354314607" target="_blank" rel="noopener noreferrer">吃透这份Redis学习笔记，直接把阿里面试官按在地上摩擦！<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_1-什么是redis" tabindex="-1"><a class="header-anchor" href="#_1-什么是redis" aria-hidden="true">#</a> 1. 什么是redis？</h2><p><strong>Redis (Remote Dictionary Server)就是一个使用 C 语言开发的数据库</strong>，与传统数据库不同的是 <strong>Redis 的数据是存在内存中的</strong> ，也就是它是内存数据库，所以读写速度非常快，因此 Redis 被广泛应用于缓存方向。</p><p><strong>Redis 除了做缓存之外，Redis 也经常用来做分布式锁，甚至是消息队列。</strong></p><p><strong>Redis 提供了多种数据类型来支持不同的业务场景。Redis 还支持事务 、持久化、Lua 脚本、多种集群方案。</strong></p><h2 id="_2-分布式缓存常见的技术选型" tabindex="-1"><a class="header-anchor" href="#_2-分布式缓存常见的技术选型" aria-hidden="true">#</a> 2. 分布式缓存常见的技术选型</h2><h3 id="_2-1-缓存类型" tabindex="-1"><a class="header-anchor" href="#_2-1-缓存类型" aria-hidden="true">#</a> 2.1 缓存类型</h3><p>本地缓存是内存访问，没有远程交互开销，性能最好，但是受限于单机容量，一般缓存较小且无法扩展。</p><p>分布式缓存一般都具有良好的水平扩展能力，对较大数据量的场景也能应付自如。缺点就是需要进行远程请求，性能不如本地缓存。</p><p>分布式缓存主要解决的是单机缓存的容量受服务器限制并且无法保存通用的信息。因为，本地缓存只在当前服务里有效，比如如果你部署了两个相同的服务，他们两者之间的缓存数据是无法共同的。</p><p>Memcached 是分布式缓存最开始兴起的那会，比较常用的。后来，随着 Redis 的发展，大家慢慢都转而使用更加强大的 Redis 了。</p><p>为了平衡这种情况，实际业务中一般采用<strong>多级缓存</strong>，本地缓存只保存访问频率最高的部分热点数据，其他的热点数据放在分布式缓存中。</p><h3 id="_2-1-redis-和-memcached-的区别和共同点" tabindex="-1"><a class="header-anchor" href="#_2-1-redis-和-memcached-的区别和共同点" aria-hidden="true">#</a> 2.1 Redis 和 Memcached 的区别和共同点</h3><p><strong>共同点</strong> ：</p><ol><li>都是基于内存的数据库，一般都用来当做缓存使用。</li><li>都有过期策略。</li><li>两者的性能都非常高。</li></ol><p><strong>区别</strong> ：</p><ol><li><strong>Redis 支持更丰富的数据类型(支持更复杂的应用场景)</strong>。Redis 不仅仅支持简单的 k/v 类型的数据，同时还提供 list，set，zset，hash 等数据结构的存储。Memcached 只支持最简单的 k/v 数据类型。</li><li><strong>Redis 支持数据的持久化，可以将内存中的数据保持在磁盘中，重启的时候可以再次加载进行使用,而 Memecache 把数据全部存在内存之中。</strong></li><li><strong>Redis 有灾难恢复机制。</strong> 因为可以把缓存中的数据持久化到磁盘上。</li><li><strong>Redis 在服务器内存使用完之后，可以将不用的数据放到磁盘上。但是，Memcached 在服务器内存使用完之后，就会直接报异常。</strong></li><li><strong>Memcached 没有原生的集群模式，需要依靠客户端来实现往集群中分片写入数据；但是 Redis 目前是原生支持 cluster 模式的.</strong></li><li><strong>Memcached 是多线程，非阻塞 IO 复用的网络模型；Redis 使用单线程的多路 IO 复用模型。</strong> (Redis 6.0 引入了多线程 IO )</li><li><strong>Redis 支持发布订阅模型、Lua 脚本、事务等功能，而 Memcached 不支持。并且，Redis 支持更多的编程语言。</strong></li><li><strong>Memcached 过期数据的删除策略只用了惰性删除，而 Redis 同时使用了惰性删除与定期删除。</strong></li></ol><p>相信看了上面的对比之后，我们已经没有什么理由可以选择使用 Memcached 来作为自己项目的分布式缓存了。</p><h2 id="_3-redis有哪些优缺点" tabindex="-1"><a class="header-anchor" href="#_3-redis有哪些优缺点" aria-hidden="true">#</a> 3. Redis有哪些优缺点？</h2><p>优点：</p><ul><li>性能极高 – Redis 能读的速度是 110000 次/s,写的速度是 81000 次/s 。</li><li>丰富的数据类型</li><li>原子 – Redis 的所有操作都是原子性的，意思就是要么成功执行要么失败完全不执行。(多操作使用事务保证原子性)</li><li>丰富的特性 – Redis 还支持 publish/subscribe, 通知, key 过期等等特性。</li></ul><p>缺点：</p><ul><li>容量受到物理内存的限制,不能用作海量数据的高性能读写。因此Redis适合的场景主要局限在较小数据量的高性能操作和运算上。</li></ul><h2 id="_4-为什么要用-redis-为什么要用缓存" tabindex="-1"><a class="header-anchor" href="#_4-为什么要用-redis-为什么要用缓存" aria-hidden="true">#</a> 4. 为什么要用 Redis /为什么要用缓存？</h2><p>从高性能和高并发的角度去思考。</p><p><strong>高性能</strong>：</p><p>用户第一次访问数据库中的高频数据比较慢(硬盘读取)，如果将<strong>用户高频访问而且不经常改变的数据</strong>放到redis，用户下次访问直接从缓存中读取(读取内存)，大大提高访问速度。</p><p>注：但是要注意数据库与缓存的数据一致性。</p><p><strong>高并发</strong>：</p><p>一般像 MySQL 这类的数据库的 QPS 大概都在 1w 左右(4 核 8g) ，但是使用 Redis 缓存之后很容易达到 10w+，甚至最高能达到 30w+(就单机 redis 的情况，redis 集群的话会更高)</p><blockquote><p>QPS(Query Per Second)：服务器每秒可以执行的查询次数</p></blockquote><p>高频访问数据转移到缓存可以大大提升系统的并发能力。</p><h2 id="_5-如何保障mysql和redis之间的数据一致性" tabindex="-1"><a class="header-anchor" href="#_5-如何保障mysql和redis之间的数据一致性" aria-hidden="true">#</a> 5. 如何保障mysql和redis之间的数据一致性？</h2><figure><img src="/assets/202112021507099-d8b95cb2.jpg" alt="mysql和redis的数据一致性" tabindex="0" loading="lazy"><figcaption>mysql和redis的数据一致性</figcaption></figure><p><strong>缓存与数据库双写时数据不一致</strong>的问题。不管是先写数据库，再删除缓存；还是先删除缓存，再写库，都有可能出现数据不一致的情况。具体情况如下：</p><ol><li>如果删除了缓存Redis，还没有来得及写库MySQL，另一个线程就来读取，发现缓存为空，则去数据库中读取数据写入缓存，此时缓存中为脏数据。</li><li>如果先写了库，在删除缓存前，写库的线程宕机了，没有删除掉缓存，则也会出现数据不一致情况。</li></ol><p>因为写和读是并发的，没法保证顺序,就会出现缓存和数据库的数据不一致的问题。如何解决？</p><h3 id="方案一-延时双删" tabindex="-1"><a class="header-anchor" href="#方案一-延时双删" aria-hidden="true">#</a> 方案一：延时双删</h3><p>在写库前后都进行<code>redis.del(key)</code>操作，并且设定合理的超时时间。</p><ul><li>伪代码如下：</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span><span class="token class-name">Object</span> data<span class="token punctuation">)</span><span class="token punctuation">{</span>
    redis<span class="token punctuation">.</span><span class="token function">delKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    db<span class="token punctuation">.</span><span class="token function">updateData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    redis<span class="token punctuation">.</span><span class="token function">delKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>具体的步骤就是：</strong></p><p>1)先删除缓存</p><p>2)再写数据库</p><p>3)休眠500毫秒</p><p>4)再次删除缓存 <strong>那么，这个500毫秒怎么确定的，具体该休眠多久呢？</strong></p><p>需要评估自己的项目的读数据业务逻辑的耗时。这么做的目的，就是确保读请求结束，写请求可以删除读请求造成的缓存脏数据。</p><p>当然这种策略还要考虑redis和数据库主从同步的耗时。最后的的写数据的休眠时间：则在读数据业务逻辑的耗时基础上，加几百ms即可。比如：休眠1秒。</p><p><strong>设置缓存过期时间</strong></p><p>从理论上来说，给缓存设置过期时间，是保证最终一致性的解决方案。所有的写操作以数据库为准，只要到达缓存过期时间，则后面的读请求自然会从数据库中读取新值然后回填缓存。</p><p><strong>该方案的弊端</strong></p><p>结合双删策略+缓存超时设置，这样最差的情况就是在超时时间内数据存在不一致，而且又增加了写请求的耗时。</p><h3 id="方案二-异步更新缓存-基于订阅binlog的同步机制" tabindex="-1"><a class="header-anchor" href="#方案二-异步更新缓存-基于订阅binlog的同步机制" aria-hidden="true">#</a> 方案二：<strong>异步更新缓存(基于订阅binlog的同步机制)</strong></h3><p><strong>整体思路：</strong></p><p>MySQL binlog增量订阅消费+消息队列+增量数据更新到redis</p><p><strong>1)读Redis</strong>：热数据基本都在Redis</p><p><strong>2)写MySQL</strong>:增删改都是操作MySQL</p><p><strong>3)更新Redis数据</strong>：MySQ的数据操作binlog，来更新到Redis</p><p><strong>Redis更新</strong></p><p><strong>1)数据操作主要分为两大块：</strong></p><ul><li>一个是全量(将全部数据一次写入到redis)</li><li>一个是增量(实时更新)</li></ul><p>这里说的是增量,指的是mysql的update、insert、delate变更数据。</p><p><strong>2)读取binlog后分析 ，利用消息队列,推送更新各台的redis缓存数据。</strong></p><p>这样一旦MySQL中产生了新的写入、更新、删除等操作，就可以把binlog相关的消息推送至Redis，Redis再根据binlog中的记录，对Redis进行更新。</p><p>其实这种机制，很类似MySQL的主从备份机制，因为MySQL的主备也是通过binlog来实现的数据一致性。</p><p>这里可以结合使用canal(阿里的一款开源框架)，通过该框架可以对MySQL的binlog进行订阅，而canal正是模仿了mysql的slave数据库的备份请求，使得Redis的数据更新达到了相同的效果。</p><p>当然，这里的消息推送工具你也可以采用别的第三方：kafka、rabbitMQ等来实现推送更新Redis。</p><p>参看：<a href="https://my.oschina.net/jiagouzhan/blog/2990423" target="_blank" rel="noopener noreferrer">高并发架构系列：Redis缓存和MySQL数据一致性方案详解<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_6-redis有哪些数据类型及使用场景" tabindex="-1"><a class="header-anchor" href="#_6-redis有哪些数据类型及使用场景" aria-hidden="true">#</a> 6.Redis有哪些数据类型及使用场景</h2><h3 id="string" tabindex="-1"><a class="header-anchor" href="#string" aria-hidden="true">#</a> String</h3><p>K-V结构</p><p>value如果是数字，可以进行计数操作</p><p>常用操作：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 返回 key 所储存的字符串值的长度</span>
strlen key 
<span class="token comment"># 批量设置 key-value 类型的值</span>
mset key1 value1 key2 value2
<span class="token comment"># 批量获取多个 key 对应的 value</span>
mget key1 key2 
 <span class="token comment"># 将 key 中储存的数字值增一</span>
incr number
 <span class="token comment"># 将 key 中储存的数字值减一</span>
decr number
<span class="token comment"># 数据在 60s 后过期</span>
expire key  <span class="token number">60</span> 
<span class="token comment"># 数据在 60s 后过期 (setex:[set] + [ex]pire)</span>
setex key <span class="token number">60</span> value 
<span class="token comment"># 查看数据还有多久过期</span>
ttl key
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用场景：常用在需要计数的场景，比如用户的访问次数、热点文章的点赞转发数量等等。</p><h3 id="list" tabindex="-1"><a class="header-anchor" href="#list" aria-hidden="true">#</a> List</h3><p>Redis 的 list 的实现为一个 <strong>双向链表</strong>，即可以支持反向查找和遍历。特点是易于数据元素的插入和删除并且且可以灵活调整链表长度，但是链表的随机访问困难。</p><p><strong>应用场景:</strong> 发布与订阅或者说消息队列、慢查询。</p><p>常用操作：</p><p><strong>实现队列和栈</strong></p><figure><img src="/assets/20210628214025-c8a4be70.png" alt="redis实现栈和队列" tabindex="0" loading="lazy"><figcaption>redis实现栈和队列</figcaption></figure><p><strong>查看对应下标范围的列表元素(实现分页)</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 查看对应下标的list列表， 0 为 start,1为 end</span>
lrange myList <span class="token number">0</span> <span class="token number">1</span> 
<span class="token comment"># 查看列表中的所有元素，-1表示倒数第一</span>
lrange myList <span class="token number">0</span> <span class="token parameter variable">-1</span> 
查看链表长度
llen myList
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h3></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/docs/distributed/cache/redis.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page on GitHub" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->Edit this page on GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><!----><div class="giscus-wrapper input-top" id="comment" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">Default footer</div><div class="copyright">Copyright © 2023 Mr.Hope</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app-4d79e191.js" defer></script>
  </body>
</html>
